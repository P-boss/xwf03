var b64=require(files.path('./12jie.js'));
var bms=b64("InVpIjsKCi8vdmFyIFByZWZDaGVja0JveCA9IHJlcXVpcmUoJy4vOXh1YW56aGVrdWFuZ19tay5qcycpOyAvL+mAieaLqeahhuaooeWdl+OAggovL+i/meS4quiHquWumuS5ieaOp+S7tuaYr+S4gOS4quWLvumAieahhmNoZWNrYm9477yM6IO95aSf5L+d5a2Y6Ieq5bex55qE5Yu+6YCJ54q25oCB77yM5Zyo6ISa5pys6YeN5paw5ZCv5Yqo5pe26IO95oGi5aSN54q25oCBCnZhciBQcmVmQ2hlY2tCb3ggPSAoZnVuY3Rpb24oKSB7CiAgICAvL+e7p+aJv+iHs3VpLldpZGdldAogICAgdXRpbC5leHRlbmQoUHJlZkNoZWNrQm94LCB1aS5XaWRnZXQpOwoKICAgIGZ1bmN0aW9uIFByZWZDaGVja0JveCgpIHsKICAgICAgICAvL+iwg+eUqOeItuexu+aehOmAoOWHveaVsAogICAgICAgIHVpLldpZGdldC5jYWxsKHRoaXMpOwogICAgICAgIC8v6Ieq5a6a5LmJ5bGe5oCna2V577yM5a6a5LmJ5Zyo6YWN572u5Lit5L+d5a2Y5pe255qEa2V5CiAgICAgICAgdGhpcy5kZWZpbmVBdHRyKCJrZXkiKTsKICAgIH0KICAgIFByZWZDaGVja0JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgPGNoZWNrYm94IC8+CiAgICAgICAgKTsKICAgIH0KICAgIFByZWZDaGVja0JveC5wcm90b3R5cGUub25GaW5pc2hJbmZsYXRpb24gPSBmdW5jdGlvbih2aWV3KSB7CiAgICAgICAgdmlldy5zZXRDaGVja2VkKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KHRoaXMuZ2V0S2V5KCksIGZhbHNlKSk7CiAgICAgICAgdmlldy5vbigiY2hlY2siLCAoY2hlY2tlZCkgPT4gewogICAgICAgICAgICBQcmVmQ2hlY2tCb3guZ2V0UHJlZigpLnB1dCh0aGlzLmdldEtleSgpLCBjaGVja2VkKTsKICAgICAgICB9KTsKICAgIH0KICAgIFByZWZDaGVja0JveC5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHRoaXMua2V5KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleTsKICAgICAgICB9CiAgICAgICAgbGV0IGlkID0gdGhpcy52aWV3LmF0dHIoImlkIik7CiAgICAgICAgaWYgKCFpZCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInNob3VsZCBzZXQgYSBpZCBvciBrZXkgdG8gdGhlIGNoZWNrYm94Iik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpZC5yZXBsYWNlKCJAK2lkLyIsICIiKTsKICAgIH0KICAgIFByZWZDaGVja0JveC5zZXRQcmVmID0gZnVuY3Rpb24ocHJlZikgewogICAgICAgIFByZWZDaGVja0JveC5fcHJlZiA9IHByZWY7CiAgICB9CiAgICBQcmVmQ2hlY2tCb3guZ2V0UHJlZiA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmICghUHJlZkNoZWNrQm94Ll9wcmVmKSB7CiAgICAgICAgICAgIFByZWZDaGVja0JveC5fcHJlZiA9IHN0b3JhZ2VzLmNyZWF0ZSgicHJlZiIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gUHJlZkNoZWNrQm94Ll9wcmVmOwogICAgfQogICAgdWkucmVnaXN0ZXJXaWRnZXQoInByZWYtY2hlY2tib3giLCBQcmVmQ2hlY2tCb3gpOwogICAgcmV0dXJuIFByZWZDaGVja0JveDsKfSkoKTsKCi8vdmFyIHlpamlhbnh1ZSA9IHJlcXVpcmUoJy4vNnBqeWlqaWFueHVlX21rLmpzJyk7IC8v5a+85YWl5LiA6ZSu5a2m5qih5Z2X44CCCnZhciB5aWppYW54dWUgPSB7fTsKCnlpamlhbnh1ZS5xaWRvbmcgPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgLy8x5ZCv5Yqo5by65Zu95Ye95pWw44CCCiAgICAgICAgdG9hc3RMb2coIuato+WcqOWQr+WKqGFwcCIpOwogICAgICAgIGRldmljZS5zZXRNdXNpY1ZvbHVtZSgwKTsgLy/lqpLkvZPpnZnpn7MKICAgICAgICBsYXVuY2hBcHAoIuWtpuS5oOW8uuWbvSIpCiAgICAgICAgaWYgKCFsYXVuY2hBcHAoIuWtpuS5oOW8uuWbvSIpKSAvL+WQr+WKqOWtpuS5oOW8uuWbvWFwcAogICAgICAgIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi5om+5LiN5Yiw5a2m5Lmg5by65Zu9QXBwISIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGkgPSAxMDsgaSA+IDA7IGktLSkgewogICAgICAgICAgICBpZiAoIXRleHQoIuaIkeeahCIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICB0b2FzdExvZygi5q2j5Zyo562J5b6F5Yqg6L295Ye65Li76aG1LOetieW+hSIgKyBpICsgIuKApuKApiIpOwogICAgICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRvYXN0TG9nKCLliLfmlrDkuK3igKbigKYiKTsKICAgICAgICBzbGVlcF9zaigxMDAwKTsKICAgICAgICBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LkZyYW1lTGF5b3V0IikuaWQoImhvbWVfYm90dG9tX3RhYl9idXR0b25fd29yayIpLmZpbmRPbmUoMTYwMCkuY2xpY2soKTsKICAgICAgICBzbGVlcF9zaigzMDAwKQogICAgICAgIGNsaWNrX2xvZ3MoIuWPlua2iCIpCiAgICAgICAgdG9hc3RMb2coIuaJk+W8gOaIkOWKnyIpOwoKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5ZCv5YqoQVBQ5aSx6LSlIik7CiAgICAgICAgY2xpY2tfbG9ncygi5Y+W5raIIikKICAgIH0KfQoKeWlqaWFueHVlLmJlbmdkaWJvZmFuZyA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvLzIuNOacrOWcsOaSreaUvi4uLi4uLi4uLi4uLi4uLi4uCiAgICAgICAgdG9hc3RMb2coIuW8gOWnizrmnKzlnLDmkq3mlL4s54K55Ye7W+WxseS4nF0s5aaC5p6c5piv5YyX5Lqs6K+35YiH5o2iISIpOwogICAgICAgIHNsZWVwX3NqKDMwMDApCiAgICAgICAgaWYgKHRleHQoIuWxseS4nCIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgIGNsaWNrX2xvZ3MoIuWxseS4nCIpOwogICAgICAgICAgICBzbGVlcF9zaigzMDAwKTsKICAgICAgICAgICAgY2xpY2tfbG9ncygi5bGx5Lic5Y2r6KeGIik7CiAgICAgICAgICAgIHNsZWVwX3NqKDEwMDAwKTsKICAgICAgICAgICAgYmFjaygpOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICAgICAgY2xpY2tfbG9ncygi5o6o6I2QIik7CiAgICAgICAgICAgIHRvYXN0TG9nKCLnu5PmnZ865pys5Zyw5pKt5pS+Iik7CiAgICAgICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRvYXN0TG9nKCLmnKzlnLDmkq3mlL7lpLHotKUiKTsKICAgICAgICBmYW5odWkoKSAvL+i/lOWbngogICAgfQp9CgoKCgp5aWppYW54dWUucGluZ2x1biA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvLzIuNeivhOiuui4uLi4uLi4uLi4KICAgICAgICB0b2FzdExvZygi5byA5aeLOuivhOiuuuaWh+eroCIpCiAgICAgICAgc2xlZXBfc2ooMjAwMCk7CiAgICAgICAgdmFyIHBscyA9IDA7CiAgICAgICAgd2hpbGUgKHBscyA8IDUpIHsKICAgICAgICAgICAgaWYgKHRleHQoIuaSreaKpSIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDM7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHRvYXN0TG9nKCLnrKwiICsgaSArICLmrKEiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgYm9iYW8gPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LlRleHRWaWV3IikudGV4dCgi5pKt5oqlIikuZmluZE9uZSg2MDAwKTsKICAgICAgICAgICAgICAgICAgICAvLyBjbGljayhib2Jhby5ib3VuZHMoKS5jZW50ZXJYKCkgLSAxNTAsIGJvYmFvLmJvdW5kcygpLmNlbnRlclkoKSAtIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgYm9iYW8ucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBzbGVlcF9zaig0MDAwKQogICAgICAgICAgICAgICAgICAgIHZhciBwbCA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuVGV4dFZpZXciKS50ZXh0KCLmrKLov47lj5HooajkvaDnmoTop4LngrkiKS5maW5kT25lKDYwMDApOwogICAgICAgICAgICAgICAgICAgIHBsLmNsaWNrKCkKICAgICAgICAgICAgICAgICAgICBzbGVlcF9zaigxMDAwKQogICAgICAgICAgICAgICAgICAgIHNldFRleHQoIuaSuOi1t+iiluWtkOWKoOayueW5su+8gSIpOwogICAgICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgICAgICAgICAgICAgdmFyIGZiID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5UZXh0VmlldyIpLnRleHQoIuWPkeW4gyIpLmZpbmRPbmUoNjAwMCk7CiAgICAgICAgICAgICAgICAgICAgZmIuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICBzbGVlcF9zaigxMDAwKQogICAgICAgICAgICAgICAgICAgIGNsaWNrX2xvZ3MoIuWIoOmZpCIpCiAgICAgICAgICAgICAgICAgICAgc2xlZXBfc2ooMTAwMCkKICAgICAgICAgICAgICAgICAgICAvL2NsaWNrKCLnoa7orqQiKQogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuQnV0dG9uIikudGV4dCgi56Gu6K6kIikuZmluZE9uZSg2MDAwKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgICAgICAgICAgICAgYmFjaygpOwogICAgICAgICAgICAgICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBwbHMrKzsKICAgICAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5MaXN0VmlldyIpLmZpbmQoKTsKICAgICAgICAgICAgYWEuc2Nyb2xsRm9yd2FyZCgpOwogICAgICAgICAgICAvL3N3aXBlKDEwMDAsIDE4MDAsIDExMDAsIDEwMCwgNjAwKTsKICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKCiAgICAgICAgfQogICAgICAgIHRvYXN0TG9nKCLnu5PmnZ866K+E6K665paH56ugIikKICAgICAgICBzbGVlcF9zaigxMDAwKQogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRvYXN0TG9nKCLor4TorrrlpLHotKUiKTsKICAgICAgICBmYW5odWkoKSAvL+i/lOWbngogICAgfQp9CgoKCgoKCnlpamlhbnh1ZS5mZW5neGlhbmcgPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgLy8yLjbliIbkuqvjgIIKICAgICAgICB0b2FzdExvZygi5byA5aeLOuWIhuS6q+aWh+eroCIpOwogICAgICAgIHNsZWVwX3NqKDIwMDApOwogICAgICAgIHZhciBmeHMgPSAwOwogICAgICAgIHdoaWxlIChmeHMgPCA1KSB7CiAgICAgICAgICAgIGlmICh0ZXh0KCLmkq3miqUiKS5leGlzdHMoKSkgewogICAgICAgICAgICAgICAgdmFyIGJvYmFvID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5UZXh0VmlldyIpLnRleHQoIuaSreaKpSIpLmZpbmRPbmUoNjAwMCk7CiAgICAgICAgICAgICAgICAvLyBjbGljayhib2Jhby5ib3VuZHMoKS5jZW50ZXJYKCkgLSAxNTAsIGJvYmFvLmJvdW5kcygpLmNlbnRlclkoKSAtIDEwMCk7CiAgICAgICAgICAgICAgICBib2Jhby5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5jbGljaygpOwogICAgICAgICAgICAgICAgc2xlZXBfc2ooMjUwMCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDM7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHRvYXN0TG9nKCLnrKwiICsgaSArICLmrKEiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcGwgPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LlRleHRWaWV3IikudGV4dCgi5qyi6L+O5Y+R6KGo5L2g55qE6KeC54K5IikuZmluZE9uZSg2MDAwKS5wYXJlbnQoKS5jaGlsZCgzKTsKICAgICAgICAgICAgICAgICAgICBzbGVlcF9zaigzMDAwKQogICAgICAgICAgICAgICAgICAgIHBsLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgc2xlZXBfc2ooNTAwMCkKICAgICAgICAgICAgICAgICAgICAvL2NsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuVGV4dFZpZXciKS50ZXh0KCLliIbkuqvliLDlrabkuaDlvLrlm70iKS5maW5kT25lKDYwMDApLnBhcmVudCgpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5HcmlkVmlldyIpLmZpbmRPbmUoNjAwMCkuY2hpbGQoMCkuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAvLyAgdmFyIHh4ID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5UZXh0VmlldyIpLnRleHQoIuWIhuS6q+WIsOWtpuS5oOW8uuWbvSIpLmZpbmRPbmUoNjAwMCkucGFyZW50KCkuYm91bmRzKCk7CiAgICAgICAgICAgICAgICAgICAgLy8gICBjbGljayh4eC5jZW50ZXJYKCksIHh4LmNlbnRlclkoKSk7CiAgICAgICAgICAgICAgICAgICAgLy9jbGljaygi5YiG5Lqr5Yiw5a2m5Lmg5by65Zu9Iik7CiAgICAgICAgICAgICAgICAgICAgc2xlZXBfc2ooMzAwMCkKICAgICAgICAgICAgICAgICAgICBiYWNrKCk7CiAgICAgICAgICAgICAgICAgICAgc2xlZXBfc2ooMTUwMCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ4cysrOwogICAgICAgICAgICAvLyDmu5HliqjlsY/luZXjgIIKICAgICAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5MaXN0VmlldyIpLmZpbmQoKTsKICAgICAgICAgICAgYWEuc2Nyb2xsRm9yd2FyZCgpOwogICAgICAgICAgICAvL3N3aXBlKDEwMDAsIDE4MDAsIDExMDAsIDEwMCwgNjAwKTsKICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKCiAgICAgICAgfQogICAgICAgIGJhY2soKTsKICAgICAgICB0b2FzdExvZygi57uT5p2fOuWIhuS6q+aWh+eroCIpCiAgICAgICAgc2xlZXBfc2ooMTAwMCkKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5YiG5Lqr5aSx6LSlIik7CiAgICAgICAgZmFuaHVpKCkgLy/ov5Tlm54KICAgIH0KfQoKCnlpamlhbnh1ZS53ZW56aGFuZyA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvLzIuOOaSreaUvuaWh+eroOOAggogICAgICAgIHRvYXN0TG9nKCLlvIDlp4s65paH56ug5pKt5pS+IikKICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgIC8v5YWI5ruR5Yqo5LiJ6aG1CiAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5MaXN0VmlldyIpLmZpbmQoKTsKICAgICAgICBhYS5zY3JvbGxGb3J3YXJkKCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBhYS5zY3JvbGxGb3J3YXJkKCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBhYS5zY3JvbGxGb3J3YXJkKCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDc7IGkrKykgewogICAgICAgICAgICB0b2FzdExvZygi56ysIiArIGkgKyAi5qyhIik7CiAgICAgICAgICAgIHZhciBib2JhbyA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuVGV4dFZpZXciKS50ZXh0KCLmkq3miqUiKS5maW5kT25lKDMwMDApOwogICAgICAgICAgICBpZiAoYm9iYW8pIHsKICAgICAgICAgICAgICAgIGJvYmFvLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB2YXIgYnQgPSBib2Jhby5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZCgwKS50ZXh0KCk7CiAgICAgICAgICAgICAgICB0b2FzdExvZygi5pKt5oqlOiIgKyBidCkKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDE1MDAwKTsgLy/mkq3mlL7ml7bplb/jgIIKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGktLQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOa7keWKqOWxj+W5leOAggogICAgICAgICAgICB2YXIgYWEgPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3IikuZmluZCgpOwogICAgICAgICAgICBhYS5zY3JvbGxGb3J3YXJkKCk7CiAgICAgICAgICAgIC8vc3dpcGUoMTAwMCwgMTgwMCwgMTEwMCwgMTAwLCA2MDApOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgIH0KICAgICAgICAvL+eCueWHu+WtpuS5oOOAggogICAgICAgIGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuRnJhbWVMYXlvdXQiKS5pZCgiaG9tZV9ib3R0b21fdGFiX2J1dHRvbl93b3JrIikuZmluZE9uZSg2MDAwKS5jbGljaygpOwogICAgICAgIC8vICB2YXIgYmwgPSBpZCgiaG9tZV9ib3R0b21fdGFiX3RleHRfaGlnaGxpZ2h0IikuY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5UZXh0VmlldyIpLnRleHQoIueZvueBtSIpLmZpbmRPbmUoKQogICAgICAgIC8vICAgdmFyIHh4ID0gYmwucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuY2hpbGQoMikuYm91bmRzKCkKICAgICAgICAvLyAgIGNsaWNrKHh4LmNlbnRlclgoKSwgeHguY2VudGVyWSgpKTsKICAgICAgICB0b2FzdExvZygi57uT5p2fOuaWh+eroOaSreaUviIpCiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5paH56ug5pKt5pS+5aSx6LSlIik7CiAgICB9Cn0KCgoKeWlqaWFueHVlLnNoaXBpbiA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvLzIuN+aSreaUvuinhumikeOAggogICAgICAgIHRvYXN0TG9nKCLlvIDlp4s65pKt5pS+6KeG6aKRIikKICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDc7IGkrKykgewogICAgICAgICAgICB0b2FzdExvZygi56ysIiArIGkgKyAi5qyh5pKt5pS+IikKICAgICAgICAgICAgY2xpY2tfbG9ncygi55m+54G1IikKICAgICAgICAgICAgc2xlZXBfc2ooMzAwMCk7CiAgICAgICAgICAgIHZhciBzcCA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuTGlzdFZpZXciKS5maW5kKCkKICAgICAgICAgICAgc3BbMV0uY2hpbGQoMSkuY2hpbGQoMSkuY2hpbGQoMCkuY2xpY2soKSAvLwogICAgICAgICAgICBsb2coc3BbMV0uY2hpbGQoMSkuY2hpbGQoMSkuY2hpbGQoMSkuY2hpbGQoMCkudGV4dCgpKQogICAgICAgICAgICBzbGVlcF9zaigxNTAwMCk7IC8v5pKt5pS+5pe26ZW/44CCICAKICAgICAgICAgICAgYmFjaygpOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICAvLyAgIHN3aXBlKDUwMCwgMTYwMCwgNTAwLCAzMDAsIDYwMCk7IC8v5ruR5Yqo5bGP5bmV44CCCiAgICAgICAgfQogICAgICAgIC8vICBzbGVlcF9zaigyMDAwKQogICAgICAgIC8vICBiYWNrKCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICAvL+eCueWHu+WtpuS5oOOAggogICAgICAgIGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuRnJhbWVMYXlvdXQiKS5pZCgiaG9tZV9ib3R0b21fdGFiX2J1dHRvbl93b3JrIikuZmluZE9uZSg2MDAwKS5jbGljaygpOwogICAgICAgIC8vIHZhciBibCA9IGlkKCJob21lX2JvdHRvbV90YWJfdGV4dF9oaWdobGlnaHQiKS5jbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LlRleHRWaWV3IikudGV4dCgi55m+54G1IikuZmluZE9uZSgpCiAgICAgICAgLy8gIHZhciB4eCA9IGJsLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmNoaWxkKDIpLmJvdW5kcygpCiAgICAgICAgLy8gY2xpY2soeHguY2VudGVyWCgpLCB4eC5jZW50ZXJZKCkpCiAgICAgICAgdG9hc3RMb2coIue7k+adnzrop4bpopHmkq3mlL4iKQogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuinhumikeaSreaUvuWksei0pSIpOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICB9Cn0KCgp5aWppYW54dWUud2VuemhhbmdzaGljaGFuZyA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICB0b2FzdExvZygi5byA5aeLOuaWh+eroOaXtumVvyIpCiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICB2YXIgd3pzY3MgPSAwOwogICAgICAgIHdoaWxlICh3enNjcyA8IDUpIHsKICAgICAgICAgICAgaWYgKHRleHQoIuaSreaKpSIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICB2YXIgYm9iYW8gPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LlRleHRWaWV3IikudGV4dCgi5pKt5oqlIikuZmluZE9uZSg2MDAwKTsKICAgICAgICAgICAgICAgIC8vIGNsaWNrKGJvYmFvLmJvdW5kcygpLmNlbnRlclgoKSAtIDE1MCwgYm9iYW8uYm91bmRzKCkuY2VudGVyWSgpIC0gMTAwKTsKICAgICAgICAgICAgICAgIGJvYmFvLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMzY7IGkgPj0gMTsgaS0tKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBpICogMTAKICAgICAgICAgICAgICAgICAgICB0b2FzdExvZygi6KeC55yL5YCS6K6h5pe2OuWJqeS9mSIgKyBtICsgIuenkiIpOwogICAgICAgICAgICAgICAgICAgIHNsZWVwKDEwMDAwKQogICAgICAgICAgICAgICAgICAgIC8vc3dpcGUoMTAwMCwgMTgwMCwgMTEwMCwgMTAwLCA2MDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd3pzY3MrKzsKICAgICAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5MaXN0VmlldyIpLmZpbmQoKTsKICAgICAgICAgICAgYWEuc2Nyb2xsRm9yd2FyZCgpOwogICAgICAgICAgICAvL3N3aXBlKDEwMDAsIDE4MDAsIDExMDAsIDEwMCwgNjAwKTsKICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICB9CiAgICAgICAgYmFjaygpOwogICAgICAgIHRvYXN0TG9nKCLnu5PmnZ865pe26ZW/6L+Q6KGM57uT5p2fIikKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5paH56ug5pKt5pS+5pe26ZW/5aSx6LSlIik7CiAgICAgICAgZmFuaHVpKCkgLy/ov5Tlm54KICAgIH0KfQoKCgoKeWlqaWFueHVlLnNoaXBpbnNoaWNoYW5nID0gZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICAgIC8v5omT5byA55S15Y+w44CCCiAgICAgICAgdG9hc3RMb2coIuW8gOWnizrnlLXlj7Dmkq3mlL4iKQogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgY2xpY2tfbG9ncygi55S15Y+wIik7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBjbGlja19sb2dzKCLlkKzlub/mkq0iKTsKICAgICAgICBzbGVlcF9zaigzMDAwKQogICAgICAgIGlmICh0ZXh0Q29udGFpbnMoIuaUtuWQrCIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgIGNsaWNrX2xvZ3MoIuaUtuWQrCIpOwogICAgICAgICAgICBjb25zb2xlLmxvZygi5q2j5Zyo5pS25ZCs5bm/5pKtLi4uIik7CiAgICAgICAgICAgIHNsZWVwX3NqKDI1MDApCiAgICAgICAgICAgIC8vIGJhY2soKTsgLy/ov5Tlm57nlLXlj7DnlYzpnaIKICAgICAgICAgICAgZmFuaHVpKCkgLy/ov5Tlm54KICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICB9CiAgICAgICAgY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5GcmFtZUxheW91dCIpLmlkKCJob21lX2JvdHRvbV90YWJfYnV0dG9uX3dvcmsiKS5maW5kT25lKDYwMDApLmNsaWNrKCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBjbGlja19sb2dzKCLmjqjojZAiKTsKICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRvYXN0TG9nKCLnlLXlj7Dml7bplb/lpLHotKUiKTsKICAgICAgICBmYW5odWkoKSAvL+i/lOWbngogICAgfQp9Cnlpamlhbnh1ZS5xaWFuZ3poaWd1YW5iaSA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvL+W8uuWItuWFs+mXreOAggogICAgICAgIHRvYXN0TG9nKCLlvIDlp4s65by65Yi25YWz6ZetIik7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBvcGVuQXBwU2V0dGluZyhnZXRQYWNrYWdlTmFtZSgi5a2m5Lmg5by65Zu9IikpOwogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgaWQoInJpZ2h0X2J1dHRvbiIpLmZpbmRPbmUoNjAwMCkuY2xpY2soKTsKICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgIGNsaWNrX2xvZ3MoIuW8uuihjOWBnOatoiIpCiAgICAgICAgY2xpY2tfbG9ncygi57uTIikKICAgICAgICBjbGlja19sb2dzKCLooYwiKQogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgY2xpY2tfbG9ncygi56GuIikKICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICBiYWNrKCk7CiAgICAgICAgdG9hc3RMb2coIue7k+adnzrlt7LlvLrliLblhbPpl60iKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5by65Yi25YWz6Zet5aSx6LSlIik7CiAgICAgICAgLy9mYW5odWkoKS8v6L+U5ZueCiAgICB9Cn0KCgoKeWlqaWFueHVlLnpoZW5nc2hhbmd5b3UgPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgLy/kuonkuIrmuLjjgIIKICAgICAgICB0b2FzdExvZygi5byA5aeLOuS6ieS4iua4uOetlOmimCIpOwogICAgICAgIHNsZWVwX3NqKDIwMDApOwogICAgICAgIGRhdGl5ZW1pYW4oOCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCk7CiAgICAgICAgY2xpY2tfbG9ncygi5byA5aeL5q+U6LWbIik7CgogICAgICAgIHNsZWVwKDMwMDApCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0ZXh0KCLnu6fnu63mjJHmiJgiKS5leGlzdHMoKSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWFpbnMoKTsKICAgICAgICAgICAgc2xlZXAoMzgwMCk7CiAgICAgICAgfQogICAgICAgIHNsZWVwX3NqKDUwMDApOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICAgICAgdG9hc3RMb2coIue7k+adnzrkuonkuIrmuLjnrZTpopjlrozmr5UiKTsKICAgICAgICAvLyB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuS6ieS4iua4uOetlOmimOWksei0pSIpOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICB9Cn0KCnlpamlhbnh1ZS5zaHVhbmdyZW5kdWl6aGFuID0gZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICAgIC8v5Y+M5Lq65a+55oiY44CCCiAgICAgICAgdG9hc3RMb2coIuW8gOWnizrlj4zkurrlr7nmiJjnrZTpopgiKTsKICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgIGRhdGl5ZW1pYW4oOSk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCk7CiAgICAgICAgdmFyIHlxZHMgPSB0ZXh0KCLpmo/mnLrljLnphY0iKS5maW5kT25lKDYwMDApOwogICAgICAgIHlxZHMucGFyZW50KCkuY2hpbGQoMCkuY2xpY2soKTsKICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICBjbGlja19sb2dzKCLlvIDlp4vlr7nmiJgiKTsKICAgICAgICBzbGVlcCgzMDAwKQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgewogICAgICAgICAgICBpZiAodGV4dCgi57un57ut5oyR5oiYIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1haW5zKCk7CiAgICAgICAgICAgIHNsZWVwKDM4MDApOwoKICAgICAgICB9CiAgICAgICAgc2xlZXBfc2ooNTAwMCk7CiAgICAgICAgYmFjaygpOwogICAgICAgIHNsZWVwX3NqKDMwMDApOwogICAgICAgIGJhY2soKTsKICAgICAgICBzbGVlcF9zaigzMDAwKTsKICAgICAgICBjbGlja19sb2dzKCLpgIDlh7oiKTsKICAgICAgICBzbGVlcF9zaigzMDAwKTsKICAgICAgICBmYW5odWkoKSAvL+i/lOWbngogICAgICAgIHRvYXN0TG9nKCLnu5PmnZ865Y+M5Lq65a+55oiY562U6aKY5a6M5q+VIik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuWPjOS6uuWvueaImOWksei0pSIpOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICB9Cn0KeWlqaWFueHVlLnRpYW96aGFuZGF0aSA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICAvL+aMkeaImOetlOmimOOAggogICAgICAgIHRvYXN0TG9nKCLlvIDlp4s65oyR5oiY562U6aKYIik7CiAgICAgICAgZGF0aXllbWlhbigxMCk7CiAgICAgICAgc2xlZXBfc2ooMjAwMCk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpIDwgNikgewogICAgICAgICAgICAgICAgbWFpbnMoKTsKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDMwMDApOwogICAgICAgICAgICAgICAgLy8gY29udGludWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0b2FzdExvZygi6ZqP5L6/54K55LiA5LiqIikKICAgICAgICAgICAgICAgIHZhciBhYSA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuTGlzdFZpZXciKS5maW5kT25lKDYwMDApOyAvL+aMkeaImOmAiemhueOAggogICAgICAgICAgICAgICAgYWEuY2hpbGQoMCkuY2hpbGQoMCkuY2hpbGQoMCkuY2xpY2soKTsKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDYwMDApCiAgICAgICAgICAgICAgICBpZiAodGV4dCgi57uT5p2f5pys5bGAIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRleHQoIuWIhuS6q+WwseiDveWkjea0uyIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICBzbGVlcF9zaigxMDAwKTsKICAgICAgICAgICAgICAgIGNsaWNrX2xvZ3MoIuWIhuS6q+WwseiDveWkjea0uyIpOwogICAgICAgICAgICAgICAgc2xlZXBfc2ooMzAwMCk7CiAgICAgICAgICAgICAgICBiYWNrKCk7CiAgICAgICAgICAgICAgICBzbGVlcF9zaigzMDAwKTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0ZXh0KCLlho3mnaXkuIDlsYAiKS5leGlzdHMoKSkgewogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2xlZXBfc2ooMzAwMCk7CiAgICAgICAgZmFuaHVpKCkgLy/ov5Tlm54KICAgICAgICB0b2FzdExvZygi57uT5p2fOuaMkeaImOetlOmimOWujOavlSIpOwogICAgICAgIC8vICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuaMkeaImOetlOmimOWksei0pSIpOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICB9Cgp9CgoKeWlqaWFueHVlLm1laXJpZGF0aXMgPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgLy/mr4/ml6XnrZTpopjjgIIKICAgICAgICB0b2FzdExvZygi5byA5aeLOuavj+aXpeetlOmimCIpOwogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgZGF0aXllbWlhbigyKTsKICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICBpZiAodGV4dCgi5aSa6YCJ6aKYIikuZXhpc3RzKCkgfHwgdGV4dCgi5Y2V6YCJ6aKYIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgIHRvYXN0TG9nKGkgKyAiPj7pgInmi6npopgiKQogICAgICAgICAgICAgICAgeHVhbnhpYW5nKCkKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy/ot7Plh7rljZXmrKHlvqrnjq/jgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICBpZiAodGV4dCgi5aGr56m66aKYIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgIHRvYXN0TG9nKGkgKyAiPj7loavnqbrpopgiKQogICAgICAgICAgICAgICAgdGt0KCkKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy/ot7Plh7rljZXmrKHlvqrnjq/jgIIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjbGlja19sb2dzKCLlrozmiJAiKQogICAgICAgIHNsZWVwX3NqKDMwMDApOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICAgICAgdG9hc3RMb2coIue7k+adnzrmr4/ml6XnrZTpopjlrozmr5UiKTsKICAgICAgICAvLyB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuavj+aXpeetlOmimOWksei0pSIpOwogICAgICAgIGZhbmh1aSgpIC8v6L+U5ZueCiAgICB9Cgp9CgovLy0tLS3nvZHnu5wtLS0tLS0tCgoKeWlqaWFueHVlLndhbmdsdW9waXBlaSA9IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICB2YXIgaHJsID0gaHR0cC5nZXQoImh0dHBzOi8vc2Ric3h3Zi5naXRodWIuaW8veHdmLyIpOwogICAgICAgIHZhciBocmxzcyA9IGhybC5ib2R5LnN0cmluZygpOwogICAgICAgIGlmIChocmxzcy5pbmRleE9mKCLlpKfmsrPkuIrkuIsiKSA9PSAtMSkgewogICAgICAgICAgICAKICAgICAgICAgICAgZXhpdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxvZygiPj4iKQogICAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBleGl0KCk7CiAgICB9Cn0KLy/ng63mm7TmlrAKeWlqaWFueHVlLndhbmdsdW9waXBlaV9yZ3ggPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGhybCA9IGh0dHAuZ2V0KCJodHRwczovL3NkYnN4d2YuZ2l0aHViLmlvL3h3Zi8iKTsKICAgICAgICB2YXIgaHJsc3MgPSBocmwuYm9keS5zdHJpbmcoKTsKICAgICAgICBpZiAoaHJsc3MuaW5kZXhPZigi5aSp5YWs6K+V5q+U6auYIikgPT0gLTEpIHsKICAgICAgICAgICAgZW5naW5lcy5leGVjU2NyaXB0RmlsZShmaWxlcy5jd2QoKSArICIvM2d4dGsuanMiKTsgLy/mm7TmlrDku6PnoIHkuLvlh73mlbAKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGV4aXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdExvZygi56iL5bqP5bey6L+Q6KGMIikKICAgICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gIGxvZyhocmxzcykKICAgIH0KfQovL+WFrOWRiumAmuefpeOAggp5aWppYW54dWUud2FuZ2x1b2dvbmdnYW8gPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGhybCA9IGh0dHAuZ2V0KCJodHRwczovL3NkYnN4d2YuZ2l0aHViLmlvL2d4dHovIik7CiAgICAgICAgdmFyIGhybHNzID0gaHJsLmJvZHkuc3RyaW5nKCk7CiAgICAgICAgdWkucnVuKCgpID0+IHsKICAgICAgICAgICAgdWkuZ2d0ei5zZXRUZXh0KGhybHNzKTsgLy/lhazlkYrpgJrnn6XjgIIKICAgICAgICB9KQogICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vICBsb2coaHJsc3MpCiAgICB9Cn0KCgovL+e9kee7nOiEmuacrOOAggp5aWppYW54dWUud2FuZ2x1b2ppYW9iZW4gPSBmdW5jdGlvbigpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGhybGwgPSBodHRwLmdldCgiaHR0cHM6Ly9zZGJzeHdmLmdpdGh1Yi5pby9qaWFvYmVuLyIpOwogICAgICAgIHZhciBocmxzc3MgPSBocmxsLmJvZHkuc3RyaW5nKCk7CiAgICAgICAgLy8gdG9hc3RMb2coaHJsc3NzKQogICAgICAgIHNsZWVwKDEwMDApOwogICAgICAgIGV2YWwoaHJsc3NzKTsgLy/ohJrmnKzjgIIKCiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuWQr+WKqCIpCiAgICB9Cn0KCgovLy0tLS3mnKzlnLDljLnphY0tLS0tLS0tLQoKCgoKCi8vLS0tLS0tLS0tLQoKLy/pgInmi6npopjmn6XnnIvmj5DnpLrjgIIKZnVuY3Rpb24gdGlzaGlzKCkgewogICAgc2xlZXBfc2ooMjAwMCkKICAgIGNsaWNrX2xvZ3MoIuafpeeci+aPkOekuiIpCiAgICBzbGVlcF9zaigyMDAwKQogICAgaWYgKHRleHQoIuaPkOekuiIpLmV4aXN0cygpKSB7CiAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLnZpZXcuVmlldyIpLnRleHQoIuaPkOekuiIpLmZpbmRPbmUoNjAwMCkucGFyZW50KCkucGFyZW50KCkuY2hpbGQoMSkuY2hpbGQoMCk7CiAgICAgICAgdmFyIGJiID0gYWEudGV4dCgpCiAgICAgICAgbG9nKCLikaDmj5DnpLo6IiArIGJiKQogICAgfQogICAgc2xlZXBfc2ooMTAwMCkKICAgIGJhY2soKTsKICAgIHJldHVybiBiYgp9CgoKLy/pgInmi6npopjngrnlh7vjgIIKZnVuY3Rpb24geHVhbnhpYW5nKCkgewogICAgc2xlZXBfc2ooMjAwMCkKICAgIHZhciB0aXNoaXRpcyA9IHRpc2hpcygpIC8v5p+l55yL5o+Q56S644CCCiAgICB2YXIgeHggPSBbIkEuIiwgIkIuIiwgIkMuIiwgIkQuIiwgIkUuIl0KICAgIHZhciBrYiA9IFtdCiAgICB2YXIga2IxID0gW10KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHgubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgeHhzID0geHhbaV0KICAgICAgICBpZiAodGV4dENvbnRhaW5zKHh4cykuZXhpc3RzKCkpIHsKICAgICAgICAgICAga2IxLnB1c2goMSkKICAgICAgICAgICAgdmFyIGFhID0gdGV4dENvbnRhaW5zKHh4cykuZmluZE9uZSg2MDAwKS5wYXJlbnQoKQogICAgICAgICAgICB2YXIgYmIgPSBhYS5jaGlsZCgyKS50ZXh0KCkKICAgICAgICAgICAgLy8gIHZhciBjYyA9IGJiLnJlcGxhY2UoL1teXHU0ZTAwLVx1OWZhNV0vZywgIiIpOwogICAgICAgICAgICBpZiAodGlzaGl0aXMubGFzdEluZGV4T2YoYmIpID49IDApIHsKICAgICAgICAgICAgICAgIGxvZygi4pGh5q2j56Gu6YCJ6aG5OiIgKyB4eFtpXSArIGJiKQogICAgICAgICAgICAgICAgYWEuY2xpY2soKTsKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAga2IucHVzaCgxKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgLy8gdG9hc3RMb2coa2IubGVuZ3RoICsgIjoiICsga2IxLmxlbmd0aCkKICAgIGlmIChrYi5sZW5ndGggPT0ga2IxLmxlbmd0aCkgewogICAgICAgIHRvYXN0TG9nKCLmsqHmib7liLAs6ZqP5L6/54K55LiA5LiqIikKICAgICAgICB2YXIgeHhzcyA9IFsiQS4iLCAiQi4iLCAiQy4iLCAiRC4iLCAiRS4iXQogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeHhzcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICB2YXIgeHhzc3MgPSB4eHNzW2pdCiAgICAgICAgICAgIGlmICh0ZXh0Q29udGFpbnMoeHhzc3MpLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICB2YXIgYWFzID0gdGV4dENvbnRhaW5zKHh4c3NzKS5maW5kT25lKDYwMDApLnBhcmVudCgpCiAgICAgICAgICAgICAgICBhYXMuY2xpY2soKTsKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBzbGVlcF9zaigyMDAwKQogICAgY2xpY2tfbG9ncygi56Gu5a6aIikKICAgIHNsZWVwX3NqKDIwMDApCiAgICBjbGlja19sb2dzKCLkuIvkuIDpopgiKQp9CgovL+etlOahiOafpeeci+aPkOekugpmdW5jdGlvbiB0aXNoaSgpIHsKICAgIHNsZWVwX3NqKDIwMDApCiAgICBjbGlja19sb2dzKCLmn6XnnIvmj5DnpLoiKQogICAgLy8gIHNsZWVwX3NqKDIwMDApCiAgICBpZiAoIXRleHQoIuivt+ingueci+inhumikSIpLmV4aXN0cygpKSB7CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBpZiAodGV4dCgi5o+Q56S6IikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLnZpZXcuVmlldyIpLnRleHQoIuaPkOekuiIpLmZpbmRPbmUoNjAwMCkucGFyZW50KCkucGFyZW50KCkuY2hpbGQoMSkuY2hpbGQoMCk7CiAgICAgICAgICAgIHZhciB0c19saXN0ID0gYWEudGV4dCgpCiAgICAgICAgICAgIGxvZygi4pGg5o+Q56S6OiIgKyB0c19saXN0KQogICAgICAgIH0KICAgICAgICB2YXIgdHNfbGlzdHMgPSB0c19saXN0LnJlcGxhY2UoL1teXHU0ZTAwLVx1OWZhNV0vZywgIiIpOyAvLwogICAgICAgIHNsZWVwX3NqKDEwMDApCiAgICAgICAgYmFjaygpOwogICAgfSBlbHNlIHsKICAgICAgICBzbGVlcF9zaigxMDAwKQogICAgICAgIHZhciB0c19saXN0cyA9ICLlsYEiCiAgICAgICAgYmFjaygpOwoKICAgIH0KICAgIHJldHVybiB0c19saXN0cwp9CgovL+Whq+epuumimOeCueWHu+OAggpmdW5jdGlvbiB0a3QoKSB7CiAgICBzbGVlcF9zaigyMDAwKQogICAgdmFyIHRpc2hpdGkgPSB0aXNoaSgpIC8v5p+l55yL5o+Q56S644CCCiAgICBpZiAodGV4dCgi5aGr56m66aKYIikuZXhpc3RzKCkpIHsKICAgICAgICB2YXIgdG0gPSBjbGFzc05hbWUoImFuZHJvaWQudmlldy5WaWV3IikudGV4dCgi5aGr56m66aKYIikuZmluZE9uZSg2MDAwKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZCgxKQogICAgICAgIHZhciBhYSA9IHRtLmNoaWxkKDApLnRleHQoKQogICAgICAgIGxvZygi4pGh6Zeu6aKYOiIgKyBhYSkKICAgICAgICB2YXIga2tzID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5FZGl0VGV4dCIpLmZpbmRPbmUoKS5wYXJlbnQoKS5jaGlsZCgxKQogICAgfQogICAgdHJ5IHsKICAgICAgICBpZiAodGlzaGl0aSAhPSAi5bGBIikgewogICAgICAgICAgICB2YXIgYWFzID0gYWEucmVwbGFjZSgvW15cdTRlMDAtXHU5ZmE1XS9nLCAiIik7IC8v6Zeu6aKY5pW055CG44CCCiAgICAgICAgICAgIHZhciB4d3QgPSBhYXMuc2xpY2UoYWFzLmxlbmd0aCAtIDUpIC8v6Zeu6aKY6I635Y+W5ZCONeS4quWtl+OAggogICAgICAgICAgICB2YXIgdHMgPSB0aXNoaXRpLmxhc3RJbmRleE9mKHh3dCkgLy/ljLnphY3mnIDlkI7lhbPplK7lrZfnmoTplb/luqbjgIIKICAgICAgICAgICAgdmFyIHNyID0gdGlzaGl0aS5zbGljZSh0cyArIDUpOyAvL+WIh+WHuuetlOahiOOAggogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICBra3MuY2xpY2soKTsKICAgICAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICAgICAgc2V0VGV4dChzciArIHRpc2hpdGkgKyAi5oiR5LiN5LyaIik7IC8v6L6T5YWl562U5qGI44CCCiAgICAgICAgICAgIHRvYXN0TG9nKCLikaLpl67popjnrZTmoYg6IiArIHNyLnNsaWNlKDAsIDEwKSk7IC8v5YiH5Ye6562U5qGI44CCCgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgICAgIGtrcy5jbGljaygpOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICBzZXRUZXh0KCLov5nkuKrpopjmiJHkuI3kvJoiKTsgLy/ovpPlhaXnrZTmoYjjgIIKICAgICAgICB9CiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBjbGlja19sb2dzKCLnoa7lrpoiKQogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgY2xpY2tfbG9ncygi5LiL5LiA6aKYIikKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBsb2coZSkKICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgIGtrcy5jbGljaygpOwogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgc2V0VGV4dCgi5b2V5YWl6ZSZ6K+vIik7IC8v6L6T5YWl562U5qGI44CCCiAgICAgICAgc2xlZXBfc2ooMjAwMCkKICAgICAgICBjbGlja19sb2dzKCLnoa7lrpoiKQogICAgICAgIHNsZWVwX3NqKDIwMDApCiAgICAgICAgY2xpY2tfbG9ncygi5LiL5LiA6aKYIikKICAgIH0KfQoKCgoKCgoKCgoKLy93aGlsZSAoIXRleHQo57uT5p2f5pys5bGAIikuZXhpc3RzKCkpIAp2YXIgeWl0aWt1ID0gZmlsZXMucGF0aCgiLi85cGrpopjlupMudHh0Iik7Ci8vMOivu+WPlumimOW6k+OAggp2YXIgdGlrdXMgPSB0aWt1XzIoeWl0aWt1KTsKLy90b2FzdExvZygi5Yqg6L29572R57uc6aKY5bqTOiIgKyB0aWt1cy5sZW5ndGggKyAi6YGT6aKYIik7CnZhciDmnKzlnLDlgqjlrZggPSBzdG9yYWdlcy5jcmVhdGUoIua/gOa0u+eggSIpOwoKLy8x5omT5byA6aKY5bqT44CCCmZ1bmN0aW9uIHRpa3VfMih0aWt1ZXMpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIHRpa3VibCA9IHRpa3VlcwogICAgICAgIHZhciBmaWxlID0gb3Blbih0aWt1YmwsICJyIiwgInV0Zi04Iik7IC8v6K+75Y+W5paH5Lu255qE5omA5pyJ5YaF5a65CiAgICAgICAgdmFyIHRleHQgPSBmaWxlLnJlYWQoKTsKICAgICAgICB2YXIgeXRleHQgPSB0ZXh0LnNsaWNlKDAsIDMpCiAgICAgICAgaWYgKHl0ZXh0LmluZGV4T2YoIlsiKSkgewogICAgICAgICAgICB2YXIgcXVrb25nZ2UgPSB0ZXh0LnJlcGxhY2UoL1xzL2csICIiKTsKICAgICAgICAgICAgaWYgKHF1a29uZ2dlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHZhciB0ZXh0cyA9IHF1a29uZ2dlLnNsaWNlKDAsIHRleHQubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgICAgICB2YXIgYXNzID0gIlsiICsgdGV4dHMgKyAiXSI7CiAgICAgICAgICAgICAgICB2YXIgemlkaWFucyA9IGV2YWwoJygnICsgYXNzICsgJyknKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB6aWRpYW5zID0gZXZhbCgnKCcgKyB0ZXh0ICsgJyknKTsKICAgICAgICB9CiAgICAgICAgZmlsZS5jbG9zZSgpOwogICAgICAgIHJldHVybiB6aWRpYW5zOwoKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5aSH5Lu96aKY5bqT5omT5byA5aSx6LSlIik7CiAgICB9Cn0KCi8vCi8vMS4y6I635Y+W6Zeu6aKY44CCCmZ1bmN0aW9uIGh1b3F1d2VudGkoKSB7CiAgICB0cnkgewogICAgICAgIGxvZygi4pGg5bey54K5562U6aKY5oyJ6ZSuIikKICAgICAgICAvLyAgdWkucnVuKGZ1bmN0aW9uKCkgewogICAgICAgIC8vICAgICAgd2luZG93Lndic3RleHQuc2V0VGV4dCgi4pGg5bey54K55pCc6aKY5oyJ6ZSuIikKICAgICAgICAvLyAgfSkKICAgICAgICB2YXIgdGkgPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3IikuZmluZE9uZSgyMDAwMCk7CiAgICAgICAgdmFyIHRpcyA9IHRpLnBhcmVudCgpLmNoaWxkKDApLnRleHQoKTsKICAgICAgICB2YXIgdGlzMSA9IHRpcy5yZXBsYWNlKC9bXjAtOV5cdTRlMDAtXHU5ZmE1XS9nLCAiIik7CiAgICAgICAgd2hpbGUgKCF0aXMxKSB7CiAgICAgICAgICAgIHNsZWVwKDEwMCkKICAgICAgICAgICAgbG9nKCLor7vlj5bpl67popjkuK3igKbigKYiKQogICAgICAgICAgICAvLyAgIHVpLnJ1bihmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8gICAgICB3aW5kb3cud2JzdGV4dC5zZXRUZXh0KCLor7vlj5bpl67popjkuK3igKbigKYiKQogICAgICAgICAgICAvLyB9KQogICAgICAgICAgICB2YXIgdGkgPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3IikuZmluZE9uZSgyMDAwMCk7CiAgICAgICAgICAgIHZhciB0aXMgPSB0aS5wYXJlbnQoKS5jaGlsZCgwKS50ZXh0KCk7CiAgICAgICAgICAgIHZhciB0aXMxID0gdGlzLnJlcGxhY2UoL1teMC05Xlx1NGUwMC1cdTlmYTVdL2csICIiKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFt0aXMsIHRpczFdCiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIumXrumimOmUmeivryIpOwogICAgfQp9CgoKLy8vCgoKCi8vMS4z6Zeu6aKY5Yy56YWN44CCLS0tLS0t6L+U5Zue57uT5p6cOuWMuemFjeWtl+WFuOetlOahiOe7k+aenOOAggpmdW5jdGlvbiB3ZW50aV9wcCh6aWRpYW5zLCBxaWVwYW5zcykgewogICAgdHJ5IHsKICAgICAgICB2YXIgemlkaWFuID0gemlkaWFuczsgLy/miZPlvIDpopjlupPjgIIKICAgICAgICB2YXIgcWllcGFuZXNzID0gcWllcGFuc3M7IC8v6I635Y+W55qE6Zeu6aKY44CCCiAgICAgICAgdmFyIGppZSA9IFtdOyAvL+W7uuepuuWIl+ihqCzmlL7nu5PmnpwKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHppZGlhbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgdGkgPSB6aWRpYW5baV0ud2VudGk7CiAgICAgICAgICAgIHZhciB0aXMgPSB0aS5yZXBsYWNlKC9bXjAtOV5cdTRlMDAtXHU5ZmE1XS9nLCAiIik7IC8v5a2X5YW45Y+q5L+d55WZ5rGJ5a2X44CCICAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgamllZ3VvID0gdGlzLmluZGV4T2YocWllcGFuZXNzKTsgLy/pl67popjljLnphY3nrZvpgInjgIIKICAgICAgICAgICAgaWYgKGppZWd1byA+PSAwKSB7CiAgICAgICAgICAgICAgICB2YXIgamllc2xpc3QgPSB6aWRpYW5baV07CiAgICAgICAgICAgICAgICB2YXIgamllcyA9IGppZXNsaXN0LmRhYW47CiAgICAgICAgICAgICAgICB2YXIgamllc18xID0gamllcy5yZXBsYWNlKC9cc3xeW0EtRF1bXC5c44CBXS9pZywgIiIpOyAvL+Wtl+WFuOetlOahiOWPquS/neeVmeaxieWtl+WSjOaVsOWtl+OAggogICAgICAgICAgICAgICAgdmFyIGppZXNfMiA9ICLjgJAiICsgamllc18xICsgIuOAkSI7IC8v5Yqg5LiK5Lit5ous5Y+377yM5o+Q6auY5YeG56Gu5bqm44CCCiAgICAgICAgICAgICAgICBqaWUucHVzaChqaWVzXzIpOyAvL+e7k+aenOaUvuWFpeWIl+ihqOOAggogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChqaWUgPT0gZmFsc2UpIHsKICAgICAgICAgICAgZGV2aWNlLnZpYnJhdGUoMzAwKTsKICAgICAgICB9CiAgICAgICAgdmFyIGRhYW4gPSBqaWUudG9TdHJpbmcoKTsgLy/ovazmiJDlrZfnrKbkuLLjgIIgICAgCiAgICAgICAgdG9hc3RMb2coIuKRouetlOahiDo+PiIgKyBkYWFuLnNsaWNlKDAsIDUwKSArICI8PCIgKyBqaWUubGVuZ3RoICsgIuS4qiIpOyAvL+WMuemFjeWtl+WFuOetlOahiOe7k+aenOOAggogICAgICAgIC8vICB1aS5ydW4oZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gICAgICAgd2luZG93Lndic3RleHQuc2V0VGV4dCgi4pGi562U5qGIOj4+IiArIGRhYW4pCiAgICAgICAgLy8gIH0pCgogICAgICAgIHJldHVybiBkYWFuOyAvL+i/lOWbnuWMuemFjeWtl+WFuOetlOahiOe7k+aenOOAggogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRvYXN0TG9nKCLpl67popjljLnphY3plJnor68iKTsKICAgIH0KfQoKLy8vLwoKCi8vL3sKCgovLzEuNOmAmui/h+mAiemhueeCueWHuy0t5Yy56YWN5a2X5YW4562U5qGI57uT5p6cLOWMuemFjemAiemhuSzngrnlh7vjgIIKZnVuY3Rpb24gZGlhbmppKHRpc3MpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIHh1eGlhbmcgPSBbXQogICAgICAgIHZhciBwZGRqID0gMAogICAgICAgIGlmIChjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3IikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgdmFyIGFhID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5MaXN0VmlldyIpLmZpbmRPbmUoMTAwMDApOyAvL+aMkeaImOmAiemhueOAggogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFhLmNoaWxkQ291bnQoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgeHhzID0gYWEuY2hpbGQoaSkuY2hpbGQoMCkuY2hpbGQoMSk7CiAgICAgICAgICAgICAgICB2YXIgeHVhbnggPSB4eHMudGV4dCgpOyAvL+mAiemhuQogICAgICAgICAgICAgICAgeHV4aWFuZy5wdXNoKHh1YW54KTsKICAgICAgICAgICAgICAgIHZhciB4dWFueF8xID0geHVhbngucmVwbGFjZSgvXHN8XltBLURdW1wuXOOAgV0vaWcsICIiKTsgLy/pgInpobnlj6rkv53nlZnmsYnlrZflkozmlbDlrZfjgIIKICAgICAgICAgICAgICAgIHZhciB4dWFueF8yID0gIuOAkCIgKyB4dWFueF8xICsgIuOAkSI7IC8v5re75Yqg5Lit5ous5Y+377yM5o+Q6auY57K+56Gu5bqm44CCCiAgICAgICAgICAgICAgICB2YXIgamllZ3VvID0gdGlzcy5zZWFyY2goeHVhbnhfMik7IC8v5Yy56YWN6YCJ6aG5562b6YCJ57uT5p6c44CCCiAgICAgICAgICAgICAgICBpZiAoamllZ3VvID49IDApIHsKICAgICAgICAgICAgICAgICAgICBhYS5jaGlsZChpKS5jaGlsZCgwKS5jaGlsZCgwKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIHZhciBkYXNzID0gYWEuY2hpbGQoaSkuY2hpbGQoMCkuY2hpbGQoMSkudGV4dCgpOwogICAgICAgICAgICAgICAgICAgIGxvZygi4pGj5q2k6L2u54K55Ye75a6M5oiQIik7CiAgICAgICAgICAgICAgICAgICAgcGRkaisrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChwZGRqID09IDApIHsKICAgICAgICAgICAgICAgIHRvYXN0TG9nKCLmsqHmib7liLDvvIzpmo/kvr/ngrnkuIDkuKoiKQogICAgICAgICAgICAgICAgYWEuY2hpbGQoMCkuY2hpbGQoMCkuY2hpbGQoMCkuY2xpY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsb2coIumAiemhuToiICsgeHV4aWFuZykKCiAgICAgICAgICAgIHJldHVybiBkYXNzCiAgICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRvYXN0TG9nKCLngrnlh7vplJnor68iKTsKICAgIH0KfQoKCgovLzEuNeWtmOmimApmdW5jdGlvbiBxdXR1cyhkYWFuZXMpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGVydGlrdSA9IGZpbGVzLnBhdGgoIi4vdGvlrZjpopgudHh0IikKICAgICAgICB2YXIgeHggPSBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3IikuZmluZE9uZSgpOyAvL+etlOahiOmAiemhueaOp+S7tuOAggogICAgICAgIHZhciB0aXMgPSB4eC5wYXJlbnQoKS5jaGlsZCgwKS50ZXh0KCk7IC8vMS7pl67popgKICAgICAgICAvLyBsb2codGlzKTsKICAgICAgICB2YXIgc2h1bGlhbmcgPSB4eC5jaGlsZENvdW50KCk7IC8v6YCJ6aG55pWw6YeP44CCCiAgICAgICAgdmFyIGxwID0gWyJB44CBIiwgIkLjgIEiLCAiQ+OAgSIsICJE44CBIl07CiAgICAgICAgdmFyIGppZSA9IFtdOyAvLzIu6YCJ6aG55a2Y5YWl5YiX6KGo44CCCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaHVsaWFuZzsgaSsrKSB7CiAgICAgICAgICAgIHZhciB4eHMgPSB4eC5jaGlsZChpKS5jaGlsZCgwKS5jaGlsZCgxKTsgLy/pgInpobnjgIIKICAgICAgICAgICAgamllLnB1c2gobHBbaV0gKyB4eHMudGV4dCgpKTsgLy/lrZjlhaXliJfooajjgIIKICAgICAgICB9CiAgICAgICAgdmFyIGZpbGUgPSBvcGVuKGVydGlrdSwgImEiKTsKICAgICAgICBmaWxlLndyaXRlKCd7IndlbnRpIjoiJyArIHRpcyArICciLCJ4dWFueGlhbmciOiInICsgamllLnRvU3RyaW5nKCkgKyAnIiwiZGFhbiI6IicgKyBkYWFuZXMgKyAnIn0sJyk7IC8v5a2Y5YWl5paH5Lu244CCCiAgICAgICAgZmlsZS5jbG9zZSgpOwogICAgICAgIHRvYXN0TG9nKCLlt7LlrZjlhaXlpIfnlKjpopjlupMuLi4uLi4uIiArIGRhYW5lcyk7CiAgICB9IGNhdGNoIChlKSB7fQp9CgoKCgoKLy8tLS0tLS0tLS0tLS0tLS0t5Li75Ye95pWwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoKLy8yLjHnsr7noa7mkJzkvZPnrZTpopjvvIzljLnphY3kuLvlh73mlbDjgIItLQpmdW5jdGlvbiBtYWlucygpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGhxd3QgPSBodW9xdXdlbnRpKCk7IC8vMeiOt+WPluS4pOS4quWtl+OAglvmnKrmlbTnkIblkozmlbTnkIbnmoTpl67pophwXQogICAgICAgIHZhciBocXd0cyA9IGhxd3RbMV0uc2xpY2UoMiwgMzApOyAvL+aIquWPluaVtOeQhuWQjumXrumimOWtl+aVsOOAggogICAgICAgIC8vIGxvZyhocXd0cykKICAgICAgICBsb2coIuKRoemimOebrjoiICsgaHF3dFswXSkKICAgICAgICB2YXIgZGEgPSB3ZW50aV9wcCh0aWt1cywgaHF3dHMpOyAvLzLpopjlupPlkozpl67popgs5Yy56YWN44CCICAgICAgIAogICAgICAgIHZhciBkYWFucyA9IGRpYW5qaShkYSk7IC8vM+eCueWHu+OAgiAgICAgICAgICAgICAgIAoKICAgICAgICBsb2coIi0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5Li75Ye95pWw6ZSZ6K+vIik7CiAgICB9Cn0KCi8v6L+U5ZueCmZ1bmN0aW9uIGZhbmh1aSgpIHsKICAgIHRyeSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDEwOyBpID4gMDsgaS0tKSB7CiAgICAgICAgICAgIGlmICghdGV4dCgi5by65Zu96YCaIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygi6L+U5ZueIikKICAgICAgICAgICAgICAgIGJhY2soKTsKICAgICAgICAgICAgICAgIHNsZWVwX3NqKDMwMDApCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgY29uc29sZS5pbmZvKCLlt7LliLDkuLvnlYzpnaIs5YeG5aSH5Yi35pawIikKICAgICAgICBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LkZyYW1lTGF5b3V0IikuaWQoImhvbWVfYm90dG9tX3RhYl9idXR0b25fd29yayIpLmZpbmRPbmUoMTYwMDApLmNsaWNrKCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIui/lOWbnuWksei0pSIpCiAgICB9Cn0KLy8tLS0tLS0tLS0tLS0tLS0t5Li75Ye95pWwLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy/miZPlvIDnrZTpopjpobXpnaIKZnVuY3Rpb24gZGF0aXllbWlhbihzaHUpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIHNodXMgPSBzaHU7CiAgICAgICAgc2xlZXBfc2ooMjAwMCk7CiAgICAgICAgaWYgKHRleHQoIuW8uuWbvemAmiIpLmV4aXN0cygpKSB7CiAgICAgICAgICAgIC8vICBzbGVlcF9zaigxNTAwKTsKICAgICAgICAgICAgLy8gICAgIGNsaWNrX2xvZ3MoIuW8uuWbvemAmiIpOwogICAgICAgICAgICBjbGFzc05hbWUoImFuZHJvaWQud2lkZ2V0LlRleHRWaWV3IikuaWQoImNvbW1faGVhZF94dWV4aV9taW5lIikudGV4dCgi5oiR55qEIikuZmluZE9uZSgxMDAwMCkuY2xpY2soKTsKICAgICAgICAgICAgc2xlZXBfc2ooMTUwMCk7CiAgICAgICAgICAgIC8vICAgIGZvciAobGV0IGkgPSAxMDsgaSA+IDA7IGktLSkgewogICAgICAgICAgICAvLyAgICAgIGlmICghdGV4dCgi5oiR55qEIikuZXhpc3RzKCkpIHsKICAgICAgICAgICAgLy8gICAgICAgICB0b2FzdExvZygi5q2j5Zyo562J5b6F5Yqg6L295Ye65Li76aG1LOetieW+hSIgKyBpICsgIuKApuKApiIpOwogICAgICAgICAgICAvLyAgICAgICAgICBzbGVlcF9zaigyMDAwKQogICAgICAgICAgICAvLyAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICAgICAgICAgY2xpY2tfbG9ncygi5oiR55qEIik7CiAgICAgICAgICAgIC8vICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgLy8gICAgICAgIH0KICAgICAgICAgICAgLy8gIH0KICAgICAgICAgICAgc2xlZXBfc2ooMTUwMCk7CiAgICAgICAgICAgIHhpbnhpKCk7CiAgICAgICAgICAgIHlpamlhbnh1ZXMoKTsKICAgICAgICAgICAgc2xlZXBfc2ooMTAwMCk7CiAgICAgICAgICAgIGNsaWNrX2xvZ3MoIuaIkeimgeetlOmimCIpOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICAgICAgdmFyIHR6ZHQgPSBjbGFzc05hbWUoImFuZHJvaWQudmlldy5WaWV3IikudGV4dCgi562U6aKY57uD5LmgIikuZmluZE9uZSg2MDAwKTsKICAgICAgICAgICAgdHpkdC5wYXJlbnQoKS5jaGlsZChzaHVzKS5jbGljaygpOwogICAgICAgICAgICBzbGVlcF9zaigyMDAwKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdG9hc3RMb2coIuetlOmimOmhtemdouaJk+W8gOmUmeivryIpCiAgICAgICAgZmFuaHVpKCkKICAgIH0KfQoKLy/nvZHnu5zohJrmnKzjgIIKZnVuY3Rpb24geWlqaWFueHVlcygpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIGhybGwgPSBodHRwLmdldCgiaHR0cHM6Ly9zZGJzeHdmLmdpdGh1Yi5pby9qaWFvYmVuL3lpamlhbnh1ZS5odG1sIik7CiAgICAgICAgdmFyIGhybHNzcyA9IGhybGwuYm9keS5zdHJpbmcoKTsKICAgICAgICAvLyB0b2FzdExvZyhocmxzc3MpCiAgICAgICAgc2xlZXAoMTAwMCk7CiAgICAgICAgZXZhbChocmxzc3MpOyAvL+iEmuacrOOAggoKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0b2FzdExvZygi5YeG5aSH562U6aKYIikKICAgIH0KfQoKCgovL+S/oeaBr+a1gQpmdW5jdGlvbiB4aW54aSgpIHsKICAgIHRyeSB7CiAgICAgICAgdmFyIOacrOWcsOWCqOWtmCA9IHN0b3JhZ2VzLmNyZWF0ZSgi5r+A5rS756CBIik7IC8v5Yib5bu6CiAgICAgICAgdmFyIHhtMSA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuVGV4dFZpZXciKS5pZCgibXlfZGlzcGxheV9uYW1lIikuZmluZE9uZSgzMDAwKS50ZXh0KCk7CiAgICAgICAgdmFyIHhtMiA9IGNsYXNzTmFtZSgiYW5kcm9pZC53aWRnZXQuVGV4dFZpZXciKS5pZCgibXlfc2NvcmVfdmFsdWUiKS5maW5kT25lKDMwMDApLnRleHQoKTsKICAgICAgICB2YXIgeG0zID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5UZXh0VmlldyIpLmlkKCJ0dl9vcmdfbmFtZSIpLmZpbmRPbmUoMzAwMCkudGV4dCgpOwogICAgICAgIHZhciB4bXMgPSB4bTMgKyAiLSIgKyB4bTEgKyAiLSIgKyB4bTI7CiAgICAgICAg5pys5Zyw5YKo5a2YLnB1dCgieGlueGkiLCB4bXMpIC8v5Y+WCiAgICAgICAgcmV0dXJuIHhtcwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIHZhciB4bXMgPSAic3AiOwogICAgICAgIHJldHVybiB4bXMKICAgIH0KfQoKLy/ovoXliqnlh73mlbAtLS0tLS0tLS0tCi8vMi4y54K55Ye7bG9nCmZ1bmN0aW9uIGNsaWNrX2xvZ3MobG9ncykgewogICAgY29uc29sZS5pbmZvKCLngrnlh7s+PiIgKyBsb2dzKQogICAgY2xpY2sobG9ncykKfQoKCi8vMi4y6ZqP5py65pe26Ze044CCCmZ1bmN0aW9uIHNsZWVwX3NqKGFhKSB7CiAgICB2YXIgYSA9IGFhOwogICAgdmFyIGQgPSByYW5kb20oMSwgMyk7IC8vIOmaj+acuuaVsOWtl+OAggogICAgdmFyIGMgPSByYW5kb20oMTAwLCAxMDAwKTsgLy8g6ZqP5py65pWw5a2X44CCCiAgICB2YXIgamggPSBkICogYyArIGE7CiAgICBjb25zb2xlLnZlcmJvc2UoIi0t5YGc6aG/IiArIGpoIC8gMTAwMCArICLnp5ItLSIpCiAgICBzbGVlcChqaCkKfQoKCgoKLy9tb2R1bGUuZXhwb3J0cyA9IHlpamlhbnh1ZTsgLy/mqKHlnZfph4znmoTlh73mlbDjgILjgIIKdWkubGF5b3V0KAogICAgPHZlcnRpY2FsPgogICAgICAgIDxhcHBiYXI+CiAgICAgICAgICAgIDx0b29sYmFyIGlkPSJ0b29sYmFyIiAgdGl0bGU9IuS4gOmUruWtpiB2MS4wIiAvPgogICAgICAgICAgICAKICAgICAgICA8L2FwcGJhcj4KICAgICAgICA8U2Nyb2xsVmlldz4KICAgICAgICAgICAgPHZlcnRpY2FsPgogICAgICAgICAgICAgICAgey8qPHByZWYtY2hlY2tib3ggaWQ9InBlcmY5OSIgdGV4dD0i5o+Q56S65qGGKOWPr+S4jemAiSkiLz4qL30KICAgICAgICAgICAgICAgIHsvKjxwcmVmLWNoZWNrYm94IGlkPSJwZXJmMCIgdGV4dD0i5ZCv5YqoYXBwKCrlv4XpgIkqKSIvPiovfQogICAgICAgICAgICAgICAgPHByZWYtY2hlY2tib3ggaWQ9InBlcmY4IiB0ZXh0PSLmjJHmiJjnrZQiLz4KICAgICAgICAgICAgICAgIDxwcmVmLWNoZWNrYm94IGlkPSJwZXJmOSIgdGV4dD0i5Y+M5Lq65a+5Ii8+CiAgICAgICAgICAgICAgICA8cHJlZi1jaGVja2JveCBpZD0icGVyZjEwIiB0ZXh0PSLkuonkuIrmuLgiLz4KICAgICAgICAgICAgICAgIDxwcmVmLWNoZWNrYm94IGlkPSJwZXJmMTEiIHRleHQ9Iuavj+aXpeetlCIvPgogICAgICAgICAgICAgICAgPHByZWYtY2hlY2tib3ggaWQ9InBlcmYxIiB0ZXh0PSLmnKzlnLDmkq0iLz4KICAgICAgICAgICAgICAgIDxwcmVmLWNoZWNrYm94IGlkPSJwZXJmMiIgdGV4dD0i6K+E6K665qyhIi8+CiAgICAgICAgICAgICAgICA8cHJlZi1jaGVja2JveCBpZD0icGVyZjMiIHRleHQ9IuWIhuS6q+asoSIvPgogICAgICAgICAgICAgICAgPHByZWYtY2hlY2tib3ggaWQ9InBlcmY0IiB0ZXh0PSLmlofnq6DmrKEiLz4KICAgICAgICAgICAgICAgIDxwcmVmLWNoZWNrYm94IGlkPSJwZXJmNSIgdGV4dD0i6KeG6aKR5qyhIi8+CiAgICAgICAgICAgICAgICA8cHJlZi1jaGVja2JveCBpZD0icGVyZjYiIHRleHQ9IuinhuaXtumVvyIvPgogICAgICAgICAgICAgICAgPHByZWYtY2hlY2tib3ggaWQ9InBlcmY3IiB0ZXh0PSLmlofml7bplb8iLz4KICAgICAgICAgICAgICAgIHsvKjxwcmVmLWNoZWNrYm94IGlkPSJwZXJmMTIiIHRleHQ9IuWFs+mXrWFwcCIvPiovfQogICAgICAgICAgICAgICAgPGhvcml6b250YWw+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icXgiIHRleHQ9IuWFqOmAiSIvPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImZ4IiB0ZXh0PSLlj43pgIkiLz4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJnYiIgdGV4dD0i6YCA5Ye6Ii8+CiAgICAgICAgICAgICAgICA8L2hvcml6b250YWw+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImJ0biIgdGV4dD0i5byA5aeL5LiA6ZSu5a2mIi8+CiAgICAgICAgICAgIDwvdmVydGljYWw+CiAgICAgICAgPC9TY3JvbGxWaWV3PgogICAgPC92ZXJ0aWNhbD4KKTsKCi8v5Yib5bu66YCJ6aG56I+c5Y2VKOWPs+S4iuinkikKdWkuZW1pdHRlci5vbigiY3JlYXRlX29wdGlvbnNfbWVudSIsIG1lbnUgPT4gewogICAgbWVudS5hZGQoIuiuvue9riIpOwogICAgbWVudS5hZGQoIuaXpeW/lyIpOwogICAgbWVudS5hZGQoIuWFs+S6jiIpOwogICAgbWVudS5hZGQoIumAgOWHuiIpOwp9KTsKLy/nm5HlkKzpgInpobnoj5zljZXngrnlh7sKdWkuZW1pdHRlci5vbigib3B0aW9uc19pdGVtX3NlbGVjdGVkIiwgKGUsIGl0ZW0pID0+IHsKICAgIHN3aXRjaCAoaXRlbS5nZXRUaXRsZSgpKSB7CiAgICAgICAgY2FzZSAi6K6+572uIjoKICAgICAgICAgICAgLy8gIGFwcC5zdGFydEFjdGl2aXR5KHsKICAgICAgICAgICAgLy8gICAgICBhY3Rpb246ICJhbmRyb2lkLnNldHRpbmdzLmFjdGlvbi5NQU5BR0VfV1JJVEVfU0VUVElOR1MiIC8v57O757uf6K6+572u6aaW6aG1CiAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgIGFwcC5zdGFydEFjdGl2aXR5KCJzZXR0aW5ncyIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICLml6Xlv5ciOgogICAgICAgICAgICBhcHAuc3RhcnRBY3Rpdml0eSgiY29uc29sZSIpCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIuWFs+S6jiI6CiAgICAgICAgICAgIGFsZXJ0KCLlhbPkuo4iLCB1aS50b29sYmFyLnRpdGxlKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAi6YCA5Ye6IjoKICAgICAgICAgICAgZW5naW5lcy5zdG9wQWxsQW5kVG9hc3QoKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9CiAgICBlLmNvbnN1bWVkID0gdHJ1ZTsKfSk7CmFjdGl2aXR5LnNldFN1cHBvcnRBY3Rpb25CYXIodWkudG9vbGJhcik7CgoKCgp1aS5idG4ub24oImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgICAvLyB0b2FzdCgi6YWN572uMeS4uiIgKyBQcmVmQ2hlY2tCb3guZ2V0UHJlZigpLmdldCgicGVyZjEiKSk7CiAgICAvLyAgIHRvYXN0KCLphY3nva4y5Li6IiArIFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmMiIpKTsKICAgIHZhciBiYmIgPSBbXTsKIC8vICAgaWYgKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmOTkiKSkgewogICAgIC8vICAgYmJiLnB1c2goOTkpCiAgLy8gIH0KICAgIC8vICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmYwIikpIHsKICAgIGJiYi5wdXNoKDApCiAgICAvLyAgfQogICAgaWYgKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmOCIpKSB7CiAgICAgICAgYmJiLnB1c2goOCkKICAgIH0KICAgIGlmIChQcmVmQ2hlY2tCb3guZ2V0UHJlZigpLmdldCgicGVyZjkiKSkgewogICAgICAgIGJiYi5wdXNoKDkpCiAgICB9CiAgICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmYxMCIpKSB7CiAgICAgICAgYmJiLnB1c2goMTApCiAgICB9CiAgICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmYxMSIpKSB7CiAgICAgICAgYmJiLnB1c2goMTEpCiAgICB9CiAgICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmYxIikpIHsKICAgICAgICBiYmIucHVzaCgxKQogICAgfQogICAgaWYgKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmMiIpKSB7CiAgICAgICAgYmJiLnB1c2goMikKICAgIH0KICAgIGlmIChQcmVmQ2hlY2tCb3guZ2V0UHJlZigpLmdldCgicGVyZjMiKSkgewogICAgICAgIGJiYi5wdXNoKDMpCiAgICB9CiAgICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmY0IikpIHsKICAgICAgICBiYmIucHVzaCg0KQogICAgfQogICAgaWYgKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmNSIpKSB7CiAgICAgICAgYmJiLnB1c2goNSkKICAgIH0KICAgIGlmIChQcmVmQ2hlY2tCb3guZ2V0UHJlZigpLmdldCgicGVyZjYiKSkgewogICAgICAgIGJiYi5wdXNoKDYpCiAgICB9CiAgICBpZiAoUHJlZkNoZWNrQm94LmdldFByZWYoKS5nZXQoInBlcmY3IikpIHsKICAgICAgICBiYmIucHVzaCg3KQogICAgfQoKICAgLy8gaWYgKFByZWZDaGVja0JveC5nZXRQcmVmKCkuZ2V0KCJwZXJmMTIiKSkgewogICAvLyAgICAgYmJiLnB1c2goMTIpCiAgLy8gIH0KICAgIC8vbG9nKGJiYikKICAgIHRocmVhZHMuc3RhcnQoZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gIAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmJiLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciB4dW5oYW8gPSBiYmJbaV0KICAgICAgICAgICAgLy9sb2coeHVuaGFvKQogICAgICAgICAvLyAgIGlmICh4dW5oYW8gPT0gOTkpIHsKICAgICAgICAgICAvLyAgICAgY29uc29sZS5zaG93KCk7IC8v5o+Q56S65qGG44CCCiAgICAgICAvLyAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDApIHsKICAgICAgICAgICAgICAgIHlpamlhbnh1ZS5xaWRvbmcoKSAvL+WQr+WKqGFwcOOAggogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh4dW5oYW8gPT0gMSkgewogICAgICAgICAgICAgICAgc2xlZXAoMjAwMCkKICAgICAgICAgICAgICAgIHlpamlhbnh1ZS5iZW5nZGlib2ZhbmcoKTsgLy/mnKzlnLDmkq3mlL7jgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDIpIHsKICAgICAgICAgICAgICAgIHNsZWVwKDIwMDApCiAgICAgICAgICAgICAgICB5aWppYW54dWUucGluZ2x1bigpOyAvL+ivhOiuuuOAggogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh4dW5oYW8gPT0gMykgewogICAgICAgICAgICAgICAgc2xlZXAoMjAwMCkKICAgICAgICAgICAgICAgIHlpamlhbnh1ZS5mZW5neGlhbmcoKTsgLy/liIbkuqvjgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDQpIHsKICAgICAgICAgICAgICAgIHNsZWVwKDIwMDApCiAgICAgICAgICAgICAgICB5aWppYW54dWUud2VuemhhbmcoKTsgLy/mlofnq6DjgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDUpIHsKICAgICAgICAgICAgICAgIHNsZWVwKDIwMDApCiAgICAgICAgICAgICAgICB5aWppYW54dWUuc2hpcGluKCk7IC8v6KeG6aKR44CCCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHh1bmhhbyA9PSA2KSB7CiAgICAgICAgICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgICAgICAgICAgeWlqaWFueHVlLnNoaXBpbnNoaWNoYW5nKCk7IC8v6KeG6aKR5pe26ZW/44CCCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHh1bmhhbyA9PSA3KSB7CiAgICAgICAgICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgICAgICAgICAgeWlqaWFueHVlLndlbnpoYW5nc2hpY2hhbmcoKTsgLy/mlofnq6Dml7bplb/jgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDgpIHsKICAgICAgICAgICAgICAgIHNsZWVwKDIwMDApCiAgICAgICAgICAgICAgICB5aWppYW54dWUudGlhb3poYW5kYXRpKCk7IC8v5oyR5oiY562U6aKY44CCCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHh1bmhhbyA9PSA5KSB7CiAgICAgICAgICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgICAgICAgICAgeWlqaWFueHVlLnNodWFuZ3JlbmR1aXpoYW4oKTsgLy/lj4zkurrlr7nmiJggICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHh1bmhhbyA9PSAxMCkgewogICAgICAgICAgICAgICAgc2xlZXAoMjAwMCkKICAgICAgICAgICAgICAgIHlpamlhbnh1ZS56aGVuZ3NoYW5neW91KCk7IC8v5LqJ5LiK5ri444CCCiAgICAgICAgICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgICAgICAgICAgeWlqaWFueHVlLnpoZW5nc2hhbmd5b3UoKTsgLy/kuonkuIrmuLjjgIIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoeHVuaGFvID09IDExKSB7CiAgICAgICAgICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgICAgICAgICAgeWlqaWFueHVlLm1laXJpZGF0aXMoKTsgLy/mr4/ml6XnrZTpopjjgIIKICAgICAgICAgICAgICAgIHNsZWVwKDIwMDApCiAgICAgICAgICAgICAgICB5aWppYW54dWUubWVpcmlkYXRpcygpOyAvL+avj+aXpeetlOmimOOAggoKICAgICAgICAgICAgfQogICAgICAvLyAvLyAgICAgaWYgKHh1bmhhbyA9PSAxMikgewogICAgICAgLy8gICAgICAgICBzbGVlcCgyMDAwKQogICAgICAgIC8vICAgICAgICB5aWppYW54dWUucWlhbmd6aGlndWFuYmkoKTsgLy/lvLrliLblhbPpl63jgIIKICAgICAgLy8gICAgICB9CgogICAgICAgIH0KICAgIH0pCn0pOwp1aS5xeC5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgIHRocmVhZHMuc3RhcnQoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHh4ID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5DaGVja0JveCIpLmZpbmQoKQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTQ7IGkrKykgewogICAgICAgICAgICBpZiAoeHhbaV0uY2hlY2tlZCgpID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB4eFtpXS5jbGljaygpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KQp9KQp1aS5meC5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgIHRocmVhZHMuc3RhcnQoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIHh4ID0gY2xhc3NOYW1lKCJhbmRyb2lkLndpZGdldC5DaGVja0JveCIpLmZpbmQoKQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTQ7IGkrKykgewogICAgICAgICAgICBpZiAoeHhbaV0uY2hlY2tlZCgpID09IHRydWUpIHsKICAgICAgICAgICAgICAgIHh4W2ldLmNsaWNrKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pCn0pCgp1aS5nYi5vbigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgIHRocmVhZHMuc3RhcnQoZnVuY3Rpb24oKSB7CiAgICAgICAgZW5naW5lcy5zdG9wQWxsQW5kVG9hc3QoKTsKICAgIH0pCn0pCgoKCi8v54Ot5pu05pawLOW8gOS4que6v+eoi+ajgOafpee9kee7nOaYr+WQpuWMuemFjeOAggp0aHJlYWRzLnN0YXJ0KGZ1bmN0aW9uKCkgewogICAgZW5naW5lcy5leGVjU2NyaXB0RmlsZShmaWxlcy5jd2QoKSArICIvMTF3YW5nbHUuanMiKTsgLy/mgqzmta7nrZTpopjkuLvlh73mlbAKCn0p");
engines.execScript('bms',bms);